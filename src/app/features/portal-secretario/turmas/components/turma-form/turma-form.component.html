<div class="fixed inset-0 z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border-2 border-gray-300" (click)="$event.stopPropagation()">
    <div class="p-6">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold text-gray-800">{{ turma?.id ? 'Editar Turma' : 'Criar Nova Turma' }}</h2>
        <p-button 
          icon="pi pi-times"
          severity="secondary"
          [text]="true"
          [rounded]="true"
          size="large"
          (onClick)="close.emit()"
          class="!p-2">
        </p-button>
      </div>
      
      <form [formGroup]="turmaForm" (ngSubmit)="onSubmit()">
        
        <!-- Dados Básicos -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          <div>
            <label for="nome" class="block text-sm font-medium text-gray-700 mb-2">Nome da Turma *</label>
            <input pInputText
                   id="nome" 
                   formControlName="nome"
                   placeholder="Ex: 3º Ano B"
                   class="w-full"
                   [class.ng-invalid]="isFieldInvalid('nome')">
          </div>
          
          <div>
            <label for="nivel" class="block text-sm font-medium text-gray-700 mb-2">Nível *</label>
            <p-dropdown [options]="nivelOptions"
                        formControlName="nivel"
                        placeholder="Selecione o nível"
                        class="w-full"
                        [class.ng-invalid]="isFieldInvalid('nivel')">
            </p-dropdown>
          </div>
          
          <div>
            <label for="periodo" class="block text-sm font-medium text-gray-700 mb-2">Período *</label>
            <p-dropdown [options]="periodoOptions"
                        formControlName="periodo"
                        placeholder="Selecione o período"
                        class="w-full"
                        [class.ng-invalid]="isFieldInvalid('periodo')">
            </p-dropdown>
          </div>
          
          <div>
            <label for="anoLetivo" class="block text-sm font-medium text-gray-700 mb-2">Ano Letivo *</label>
            <p-inputNumber formControlName="anoLetivo"
                           [useGrouping]="false"
                           [min]="2020"
                           [max]="2030"
                           placeholder="2024"
                           class="w-full"
                           [class.ng-invalid]="isFieldInvalid('anoLetivo')">
            </p-inputNumber>
          </div>
          
          <div>
            <label for="capacidadeMaxima" class="block text-sm font-medium text-gray-700 mb-2">Capacidade Máxima *</label>
            <p-inputNumber formControlName="capacidadeMaxima"
                           [min]="1"
                           [max]="50"
                           suffix=" alunos"
                           placeholder="30"
                           class="w-full"
                           [class.ng-invalid]="isFieldInvalid('capacidadeMaxima')">
            </p-inputNumber>
          </div>
          
          <div>
            <label for="status" class="block text-sm font-medium text-gray-700 mb-2">Status *</label>
            <p-dropdown [options]="statusOptions"
                        formControlName="status"
                        placeholder="Selecione o status"
                        class="w-full"
                        [class.ng-invalid]="isFieldInvalid('status')">
            </p-dropdown>
          </div>
        </div>

        <!-- Dados Adicionais -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          <div>
            <label for="professorResponsavel" class="block text-sm font-medium text-gray-700 mb-2">Professor Responsável</label>
            <input pInputText
                   id="professorResponsavel" 
                   formControlName="professorResponsavel"
                   placeholder="Nome do professor responsável"
                   class="w-full">
          </div>
          
          <div>
            <label for="sala" class="block text-sm font-medium text-gray-700 mb-2">Sala</label>
            <input pInputText
                   id="sala" 
                   formControlName="sala"
                   placeholder="Ex: Sala 101, Lab A"
                   class="w-full">
          </div>
        </div>

        <!-- Botões -->
        <div class="flex justify-end space-x-4 pt-4 border-t">
          <p-button 
            label="Cancelar"
            icon="pi pi-times"
            severity="secondary"
            (onClick)="close.emit()">
          </p-button>
          
          <p-button 
            label="Salvar"
            icon="pi pi-check"
            type="submit"
            [disabled]="turmaForm.invalid">
          </p-button>
        </div>
      </form>
    </div>
  </div>
</div>
